function listingsPageButtons(){$(".appt").on("click",".appt-details",function(){app.viewAppointment(),navButtons()}),$(".appt").on("click",".appt-delete-btn",function(){var t=$(this),e=t.closest(".appt"),a=e.data("id"),n=e.children(".appt-delete");n.fadeIn("fast"),n.children(".appt-confirm-delete").on("click",function(){e.remove();var t=app.aptManager.findById(a);console.log(t),app.aptManager.remove(t)}),n.children(".appt-cancel-delete").on("click",function(){n.fadeOut("fast")})})}function navButtons(){$(".appt-nav").on("click",".add-btn",function(){app.editAppointment(),navButtons()}),$(".appt-nav").on("click",".back-btn",function(){app.listAppointments(),navButtons(),listingsPageButtons()}),$(".appt-nav").on("click",".edit-btn",function(){app.editAppointment(),navButtons()})}var app={};app.AppointmentStore=function(){var t=JSON.parse(localStorage.getItem("collection"))||[],e={add:function(e){return t.push(e),!0},query:function(){return t},remove:function(e){return t.splice(e,1)},findById:function(e){var a;return t.forEach(function(t,n){Number(e)===t.aptId&&(a=n)}),a},clear:function(){localStorage.clear()}};return e},app.Appointment=function(t){return{title:t.title,date:t.date,time:t.time,street:t.street,cityState:t.cityState,address:t.street+", "+t.cityState,aptId:Date.now(),equal:function(t){return self.aptId===t.aptId}}},$(function(){app.registerPages=function(){app.manager.registerPage("listings",function(){var t="appt-listing";$(".wrapper").html(app.views["appt-listing"]({appointments:app.aptManager.query(),pageID:t})),navButtons(),listingsPageButtons()}),app.manager.registerPage("view",function(t){var e="appt-view";$(".wrapper").html(app.views["appt-view"]({appointment:t,pageID:e})),navButtons()}),app.manager.registerPage("edit",function(){function t(){var t={title:$(".appt-edit-title").val(),date:$(".appt-edit-date").val(),time:$(".appt-edit-time").val(),street:$(".appt-edit-street").val(),cityState:$(".appt-edit-city-state").val()};return app.Appointment(t)}function e(){$(".appt-edit-content input").val(""),$(".appt-edit-content .appt-edit-title").focus()}var a="appt-edit";$(".wrapper").html(app.views["appt-edit"]({appointment:appointments[0],pageID:a})),navButtons(),$(".appt-edit-content .appt-edit-title").focus(),$(".appt-edit-content").submit(function(){var a=t();return app.aptManager.add(a),e(),!1})})},app.manager=app.PageManager(),app.aptManager=app.AppointmentStore(),app.registerPages(),app.manager.goTo("listings")}),app.PageManager=function(){var t={};return{registerPage:function(e,a){t[e]=a},goTo:function(e,a){t[e](a)}}},app.views={},$('script[type="type/html"]').each(function(){var t=$(this).remove();app.views[t.attr("id")]=_.template(t.html(),{variable:"m"})}),app.viewAppointment=function(){var t="appt-view";$(".wrapper").html(app.views["appt-view"]({appointments:appointment[0],pageID:t})),navButtons(),listingsPageEvents()},$.getJSON("http://api.openweathermap.org/data/2.5/forecast?q=Durham,nc").done(function(t){var e=t.list[0].main.temp,a=1.8*(e-273.15)+32;console.log(a),console.log(t)}).fail(function(t,e,a){console.log(a),alert("Failed to connect to GitHub... See console for details.")}),$.getJSON("http://api.openweathermap.org/data/2.5/weather?q=Durham,NC").done(function(t){var e=t.main.temp,a=1.8*(e-273.15)+32;console.log(a),console.log(t)}).fail(function(t,e,a){console.log(a),alert("Failed to connect to GitHub... See console for details.")});
//# sourceMappingURL=app.js.map